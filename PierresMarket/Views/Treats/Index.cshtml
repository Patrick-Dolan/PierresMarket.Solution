@{
  Layout = "_Layout";
}

@using PierresMarket.Models
@model List<PierresMarket.Models.Treat>

<h2>Treats</h2>
<ul class="nav">
  <li class="nav-item">
    <a class="nav-link" href='@Url.Action("Create", "Treats")'>Add new treat</a>
  </li>
</ul>

@if (Model.Count == 0)
{
  <p>No treats in system.</p>
}
else
{
  <div class="row row-cols-1 row-cols-md-2 g-3">
    @foreach(Treat treat in Model)
    {
      <div class="col">
        <div class="card border-primary mb-3">
          <div class="row g-0">
            <div class="col-md-4">
              @if (treat.ImageName == null)
              {
                <img src='~/img/DefaultTreatImage.png' class="img-thumbnail treat-index-image rounded mr-3 bg-light px-2 py-2 details-image">
              }
              else
              {
                <img src='@Url.Content("~/img/TreatImages/" + treat.ImageName)' class="img-thumbnail treat-index-image rounded mr-3 bg-light px-2 py-2">
              }
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="card-title">@Html.ActionLink($"{treat.Name}", "Details", new { id = treat.TreatId})</h5>
                <hr>
                <h6>Price</h6>
                <p class="card-text">$@treat.Price.00</p>
                <h6>Description</h6>
                <p class="card-text">@treat.Description</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    }
  </div>
}